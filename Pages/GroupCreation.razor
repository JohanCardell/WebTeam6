@page "/groupcreation"

@using WebTeam6.Data;
@inject IGroupService service;

<h3>GroupCreation</h3>

<EditForm id="groupCreationForm" Model="_groupObject" OnValidSubmit="HandleValidSubmit">
    <div class="inputFieldSpacer">
        <p>
            Group name:
            <InputText class="inputField" id="groupRegInput" type="text" @bind-Value="_groupObject.Name" />
        </p>
    </div>
    <div class="inputFieldSpacer">
        <p>
            Owner Id:
            <InputText class="inputField" id="groupOwnerIdInput" type="text" @bind-Value="_ownerId" />
        </p>
    </div>
    <button class="btn btn-primary" id="regGroupButton" type="submit">Submit</button>
</EditForm>

@code {
    private Group _groupObject { get; set; } = new Group();
    private string _ownerId { get; set; } = "";
    private List<OwnerGroup> groups = new List<OwnerGroup>();

    public async void HandleValidSubmit()
    {
        await service.Add(_groupObject, new Guid(_ownerId));
    }
}
